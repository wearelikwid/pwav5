<!DOCTYPE html>
<html lang='en'>
<head>
    <meta charset='UTF-8'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0'>
    <meta name='theme-color' content='#242424'>
    <meta name='description' content='El Forma - Create Workout'>
    <meta name='apple-mobile-web-app-capable' content='yes'>
    <meta name='mobile-web-app-capable' content='yes'>
    <meta name='apple-mobile-web-app-status-bar-style' content='black'>
    <meta name='apple-mobile-web-app-title' content='El Forma'>
    <title>El Forma - Create Workout</title>

    <!-- Styles -->
    <link rel='stylesheet' href='styles/main.css'>
    <link rel='stylesheet' href='styles/create-workout.css'>
</head>
<body>
    <div class='container'>
        <header class='app-header'>
            <a href='workouts.html' class='back-button'>‚Üê</a>
            <h1 id="page-title">Create Workout</h1>
        </header>

        <main>
            <div id="loading-indicator" style="display: none;">
                <div class="spinner"></div>
            </div>

            <div id="error-message" class="error-message" style="display: none;"></div>

            <form id='create-workout-form' class='workout-form'>
                <input type="hidden" id="workout-id">
                <div class='form-group'>
                    <label for='workout-name'>Workout Name</label>
                    <input type='text' id='workout-name' name='workout-name' required>
                </div>

                <div class='form-group'>
                    <label for='workout-type'>Workout Type</label>
                    <input type='text' id='workout-type' name='workout-type' placeholder='Enter workout type' required>
                </div>

                <div id='workout-sections' class='workout-sections'></div>

                <div class='form-group'>
                    <button type='button' class='button secondary' onclick='addSection()'>Add New Section</button>
                </div>

                <div class='form-actions'>
                    <button type='submit' id="save-button" class='button primary'>Save Workout</button>
                    <button type='button' id="cancel-button" class='button secondary' onclick="window.location.href='workouts.html'">Cancel</button>
                </div>
            </form>
        </main>
    </div>

    <!-- Section Template -->
    <template id='section-template'>
        <div class='workout-section'>
            <div class='section-header'>
                <select class='section-type'>
                    <option value='circuit'>Circuit</option>
                    <option value='hiit'>HIIT</option>
                    <option value='emom'>EMOM</option>
                    <option value='amrap'>AMRAP</option>
                </select>
                <button type='button' class='button secondary remove-section'>Remove Section</button>
            </div>

            <div class='exercises-list'></div>

            <button type='button' class='button secondary add-exercise'>Add Exercise</button>
        </div>
    </template>

    <!-- Exercise Template -->
    <template id='exercise-template'>
        <div class='exercise-item'>
            <div class='exercise-header'>
                <div class='form-group'>
                    <input type='text' class='exercise-name' placeholder='Exercise name' required>
                    <button type='button' class='button secondary remove-exercise'>Remove</button>
                </div>
            </div>
            <div class='exercise-details'>
                <div class='number-fields'>
                    <input type='number' class='exercise-rounds' min='1' placeholder='Rounds'>
                    <input type='number' class='exercise-reps' min='1' placeholder='Reps'>
                </div>
                <div class='form-group'>
                    <input type='text' class='exercise-notes' placeholder='Notes'>
                </div>
            </div>
        </div>
    </template>

    <!-- Firebase SDKs -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>

    <!-- Your Firebase Config -->
    <script src="scripts/firebase-config.js"></script>
    <script src='scripts/create-workout.js'></script>
</body>
</html>
